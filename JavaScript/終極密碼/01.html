<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>終極密碼</title>
    <link rel="stylesheet" href="01.css">
</head>
<body>
    <div class="main_window">
        <button onclick= "Reset()" class="reset"> 
            <p>重玩</p> 
        </button>
        <div id="target" class="target"></div>
        <p id="guess" class="guess"></p>
        <div class="inter">
            <div class="row">
                <button onclick= "Enter(this)" value="1" class="number">
                    <p>1</p>
                </button>
                <button onclick= "Enter(this)" value="2" class="number">
                    <p>2</p>
                </button>
                <button onclick= "Enter(this)" value="3" class="number">
                    <p>3</p>
                </button>
            </div>
            <div class="row">
                <button onclick= "Enter(this)" value="4" class="number">
                    <p>4</p>
                </button>
                <button onclick= "Enter(this)" value="5" class="number">
                    <p>5</p>
                </button>
                <button onclick= "Enter(this)" value="6" class="number">
                    <p>6</p>
                </button>
            </div>
            <div class="row">
                <button onclick= "Enter(this)" value="7" class="number">
                    <p>7</p>
                </button>
                <button onclick= "Enter(this)" value="8" class="number">
                    <p>8</p>
                </button>
                <button onclick= "Enter(this)" value="9" class="number">
                    <p>9</p>
                </button>
            </div>
            <div class="row">
                <button onclick= "Clear()" class="clear">
                    <p>X</p>
                </button>
                <button onclick= "Enter(this)" value="0" class="number">
                    <p>0</p>
                </button>
                <button onclick= "Check()" class="check">
                    <p>V</p>
                </button>
            </div>
        </div>
    </div>

    <script>
        let min, max, ans, target, guess, now; 
        window.onload = function()
        {
            target = document.getElementById("target");
            guess = document.getElementById("guess");
            Reset();
        }

        function Enter(num)
        {
            guess.innerHTML += num.value;
        }

        function Clear(){
            guess.innerHTML = "";
        }

        function Check(){
            now = Number(guess.innerHTML);

            if (now == ans)
            {
                alert(`答對了!\n答案是:${ans}`)
                Reset();
            }
            else if (now > min && now < ans)
            {
                min = now;
                ResetTarget();
            }
            else if (now < max && now > ans)
            {
                max = now;
                ResetTarget();
            }
            else
            {
                alert("請輸入範圍內的數字");
            }
            Clear();
        }

        function Reset()
        {
            min = 0, max = 100;
            ans = Math.floor(Math.random()*101);
            ResetTarget();
            Clear();
        }

        function ResetTarget()
        {
            target.innerHTML = `目標 : ${min} ~ ${max}`;
        }

    </script>
</body>
</html>